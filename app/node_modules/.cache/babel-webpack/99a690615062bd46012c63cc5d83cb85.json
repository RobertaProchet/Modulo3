{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../movies.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/router\";\n\nfunction AdminComponent_div_6_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.errorMessage, \" \");\n  }\n}\n\nfunction AdminComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelementStart(1, \"h2\");\n    i0.ɵɵtext(2, \"Cadastrar Novo Filme\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\", 5, 6);\n    i0.ɵɵlistener(\"ngSubmit\", function AdminComponent_div_6_Template_form_ngSubmit_3_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.onSubmit();\n    });\n    i0.ɵɵelementStart(5, \"div\", 7);\n    i0.ɵɵelementStart(6, \"label\", 8);\n    i0.ɵɵtext(7, \"T\\u00EDtulo:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"input\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function AdminComponent_div_6_Template_input_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.newMovie.title = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 7);\n    i0.ɵɵelementStart(10, \"label\", 10);\n    i0.ɵɵtext(11, \"Ano:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"input\", 11);\n    i0.ɵɵlistener(\"ngModelChange\", function AdminComponent_div_6_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.newMovie.year = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 7);\n    i0.ɵɵelementStart(14, \"label\", 12);\n    i0.ɵɵtext(15, \"URL da Capa:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"input\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function AdminComponent_div_6_Template_input_ngModelChange_16_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.newMovie.cover = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 7);\n    i0.ɵɵelementStart(18, \"label\", 14);\n    i0.ɵɵtext(19, \"Descri\\u00E7\\u00E3o:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"textarea\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function AdminComponent_div_6_Template_textarea_ngModelChange_20_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.newMovie.description = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"div\", 7);\n    i0.ɵɵelementStart(22, \"label\", 16);\n    i0.ɵɵtext(23, \"URL da M\\u00EDdia:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"input\", 17);\n    i0.ɵɵlistener(\"ngModelChange\", function AdminComponent_div_6_Template_input_ngModelChange_24_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return ctx_r9.newMovie.midia = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"button\", 18);\n    i0.ɵɵtext(26, \"Cadastrar Filme\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function AdminComponent_div_6_Template_button_click_27_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.clearForm();\n    });\n    i0.ɵɵtext(28, \"Limpar Formul\\u00E1rio\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"button\", 20);\n    i0.ɵɵtext(30, \"Voltar \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(31, \"p\");\n    i0.ɵɵtemplate(32, AdminComponent_div_6_div_32_Template, 2, 1, \"div\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const _r1 = i0.ɵɵreference(4);\n\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.newMovie.title);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.newMovie.year);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.newMovie.cover);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.newMovie.description);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.newMovie.midia);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", !_r1.valid);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.errorMessage);\n  }\n}\n\nexport let AdminComponent = /*#__PURE__*/(() => {\n  class AdminComponent {\n    constructor(movieService) {\n      this.movieService = movieService;\n      this.isAdmin = true; // Defina se o usuário é um administrador ou não\n\n      this.newMovie = {\n        id: 0,\n        title: '',\n        year: null,\n        cover: '',\n        description: '',\n        midia: '',\n        isFavorite: false\n      }; // Objeto para armazenar os dados do novo filme\n\n      this.errorMessage = ''; // Variável para armazenar a mensagem de erro\n    }\n\n    onSubmit() {\n      // Adicione o novo filme usando o serviço\n      this.movieService.addMovie(this.newMovie).subscribe(() => {\n        // Limpe os campos do formulário após adicionar o filme com sucesso\n        this.newMovie = {\n          id: 0,\n          title: '',\n          year: null,\n          cover: '',\n          description: '',\n          midia: '',\n          isFavorite: false\n        }; // Limpe a mensagem de erro\n\n        this.errorMessage = '';\n      }, error => {\n        // Exiba a mensagem de erro\n        this.errorMessage = 'Erro ao cadastrar filme. Por favor, tente novamente.';\n      });\n    }\n\n    clearForm() {\n      // Limpe os campos do formulário\n      this.newMovie = {\n        id: 0,\n        title: '',\n        year: null,\n        cover: '',\n        description: '',\n        midia: '',\n        isFavorite: false\n      }; // Limpe a mensagem de erro\n\n      this.errorMessage = '';\n    }\n\n  }\n\n  AdminComponent.ɵfac = function AdminComponent_Factory(t) {\n    return new (t || AdminComponent)(i0.ɵɵdirectiveInject(i1.MoviesService));\n  };\n\n  AdminComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AdminComponent,\n    selectors: [[\"app-admin\"]],\n    decls: 7,\n    vars: 1,\n    consts: [[\"lang\", \"pt-br\"], [\"charset\", \"UTF-8\"], [\"name\", \"viewport\", \"content\", \"width=device-width, initial-scale=1.0\"], [\"class\", \"form-container\", 4, \"ngIf\"], [1, \"form-container\"], [\"action\", \"/movies/\", \"method\", \"post\", 3, \"ngSubmit\"], [\"movieForm\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"title\", 1, \"color-label\"], [\"type\", \"text\", \"id\", \"title\", \"name\", \"title\", \"required\", \"\", \"placeholder\", \"Digite o t\\u00EDtulo aqui\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"year\", 1, \"color-label\"], [\"type\", \"number\", \"id\", \"year\", \"name\", \"year\", \"required\", \"\", \"placeholder\", \"Insira o ano no formato YYYY\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"cover\", 1, \"color-label\"], [\"type\", \"url\", \"id\", \"cover\", \"name\", \"cover\", \"required\", \"\", \"placeholder\", \"Insira a URL da imagem da capa\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"description\", 1, \"color-label\"], [\"id\", \"description\", \"name\", \"description\", \"required\", \"\", \"placeholder\", \"Insira a Sinopse do filme\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"midia\", 1, \"color-label\"], [\"type\", \"url\", \"id\", \"midia\", \"name\", \"midia\", \"required\", \"\", \"placeholder\", \"Insira a URL do trailer do filme\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"type\", \"button\", \"routerLink\", \"/\", 1, \"btn\", \"btn-secondary\", 2, \"background-color\", \"#ff4081\", \"border\", \"1px solid #ff4081\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [1, \"alert\", \"alert-danger\"]],\n    template: function AdminComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"html\", 0);\n        i0.ɵɵelementStart(1, \"head\");\n        i0.ɵɵelement(2, \"meta\", 1);\n        i0.ɵɵelement(3, \"meta\", 2);\n        i0.ɵɵelement(4, \"title\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"body\");\n        i0.ɵɵtemplate(6, AdminComponent_div_6_Template, 33, 7, \"div\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.isAdmin);\n      }\n    },\n    directives: [i2.NgIf, i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i3.DefaultValueAccessor, i3.RequiredValidator, i3.NgControlStatus, i3.NgModel, i3.NumberValueAccessor, i4.RouterLink],\n    styles: [\".color-label[_ngcontent-%COMP%]{color:#000;font-size:16px}\", \"body[_ngcontent-%COMP%] {\\n            background-color: #f0f0f0; \\n            margin: 20px; \\n        }\\n        .form-container[_ngcontent-%COMP%] {\\n            background-color: #ffffff; \\n            padding: 20px; \\n            border-radius: 5px; \\n            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); \\n        }\\n        \\n        .form-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n            text-align: center;\\n        }\\n        \\n        .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n            margin-bottom: 5px; \\n        }\\n        .form-group[_ngcontent-%COMP%]   input[type=\\\"text\\\"][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=\\\"number\\\"][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=\\\"url\\\"][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%] {\\n            margin-bottom: 10px; \\n        }\"]\n  });\n  return AdminComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}